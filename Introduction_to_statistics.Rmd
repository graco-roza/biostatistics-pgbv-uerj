---
title: "Bioestatística"
subtitle: "Introdução ao R"
author: "Caio Graco-Roza and Marcelo Manzi Marinho"
institute: "Universidade do Estado do Rio de Janeiro"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```
#Teaching staff


.pull-left[

<img src="https://pbs.twimg.com/profile_images/1199245327657779200/HnASqQmP_400x400.jpg", style="border-radius:50%", width="70%">

<img src="https://i1.rgstatic.net/ii/institution.image/AS%3A267458164789257%401440778403888_l" width="10%"> [Marcelo Manzi Marinho](https://www.researchgate.net/profile/Marcelo-Marinho-2) <br>
<img src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-512.png" width="10%"> [@Marcelomanzi2](https://twitter.com/MarceloManzi2)
]


.pull-right[

<img src="https://avatars.githubusercontent.com/u/61427460?s=460&u=33ea31eae08fcc6964213c76e76f52b96d6b8c30&v=4", style="border-radius:50%", width="70%">

<img src="https://i1.rgstatic.net/ii/institution.image/AS%3A267458164789257%401440778403888_l" width="10%"> [Caio Graco-Roza](https://www.researchgate.net/profile/Caio-Roza)
<br>
<img src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-512.png" width="10%"> [@GracoRoza](https://twitter.com/GracoRoza)
]

---
class: center, middle

# Introduction to statistics

### Using the R environment.

---
class: inverse, center, middle

# Ready?

---
class: inverse, left, top
.pull-left[
# These classes are based on 
## R for data Science  
###https://r4ds.had.co.nz/
]

.pull-right[<img src="https://d33wubrfki0l68.cloudfront.net/b88ef926a004b0fce72b2526b0b5c4413666a4cb/24a30/cover.png" align="center" />]
---
class: inverse, left, middle

.pull-left[

## Hands on Programming with R   
### https://rstudio-education.github.io/hopr/basics.html]

.pull-right[<img src="https://rstudio-education.github.io/hopr/cover.png", width="100%",  align="center"/>]
---
class: inverse, left, middle
.pull-left[

## ggplot2: Elegant Graphics for Data Analysis.  
### https://ggplot2-book.org/ ]  

 
.pull-right[<img src="https://ggplot2-book.org/cover.jpg" align="center" />]

---
class: inverse, center, middle

#Why are we all here?

<img src="https://i.pinimg.com/564x/f4/0d/b6/f40db6a7fb36ce7cd9138f68067ee915.jpg", width="70%", align="center"/>  

--

## We are here to study **Statistics** and practice some **Data science**.

---
class: inverse, center, middle
#Statistics

--
The practice or science of collecting and analysing numerical data in large quantities, especially for the purpose of inferring **proportions** in a whole from those in a **representative** sample.
--

#Data science  

Aims to turn raw data into understanding, insight, and knowledge. 

--

Data science combines multi-disciplinary fields and computing to interpret data for decision making whereas statistics refers to mathematical analysis which use quantified models to represent a given set of data.

--
.center[**Statistics + Data Science**]
.center[<img src="https://media0.giphy.com/media/26ufdipQqU2lhNA4g/giphy.webp?cid=ecf05e47yn28u672t7arxzimvz33xcwcwp7qxm5iuo62c8il&rid=giphy.webp", width="20%", align="center"/>]

---
class: inverse, left, top

#How do we work?

Here's a usual framework of a data science project.

.center[![Workflow](https://d33wubrfki0l68.cloudfront.net/571b056757d68e6df81a3e3853f54d3c76ad6efc/32d37/diagrams/data-science.png)]

In biological sciences we often:
- Substitute the `Import` by `Collect` as we generate our own data.
- Do the whole `Tidying` using excel or even additional notebooks.
- Perform the `Transform`, `Visualise` and `Model` using multiple software that our labs may or may not have money to buy a license.
- `Communicate` our findings as reports or papers published in indexed journals.

---

#Drawbacks of the actual approach

--
- Several tutorials with different guidelines leaving no time for social media.

--
- Several premium licenses leaving no extra money for traveling (Ok, for buying reagents).

--
- You really have no idea of what's going on behind the curtains (meaning closed-source code).

--
##How can we solve such huge problems?

--

<img src="https://cran.r-project.org/Rlogo.svg", width="20%", align="left"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://d33wubrfki0l68.cloudfront.net/521a038ed009b97bf73eb0a653b1cb7e66645231/8e3fd/assets/img/rstudio-icon.png", width=20%, align="center"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img src="https://wizardsourcer.com/wp-content/uploads/2019/03/Stackoverflow.png", width=40%, align="center">


---

# What is R?
.pull-left[
- `R` is both a programming language and software environment for statistical computing, which is *free* and *open-source*.  

- `R` is an implementation of the `S` programming language, which was created by Ross Ihahka and Robert Gentlemen at the University of Auckland”
 ]

.pull-right[<img src="https://cran.r-project.org/Rlogo.svg", width="100%", align="left">]
<br>

#Why R Studio?

RStudio gives you a way to talk to your computer. R gives you a language to speak in.  


---

#R User Interface

<img src="https://rstudio-education.github.io/hopr/images/hopr_0101.png", width="70%", align="right">

The `RStudio` interface is simple. You type R code into the bottom line of the **RStudio console** pane and then click Enter to run it. The code you type is called a command, because it will command your computer to do something for you. The line you type it into is called the command line.
<br>

The interface is divided also into a **Workspace Browser** and **Plots**. These can also be adjusted under the `Tools (or Preferences) > Global options > Pane layout` menu. Let's now inspect each pane more closely.


---
class: inverse, left, top
#R User Interface

## Console

This is where you can type code that executes immediately. This is also known as the command line.

Entering code in the command line is intuitive and easy. For example, we can use R as a calculator by typing into the Console (and pressing Enter after each line):

```{r Math_1, echo=TRUE}
3+2
```

You’ll notice that a [1] appears next to your result. R is just letting you know that this line begins with the first value in your result.


---
class: inverse, left, top

#R User Interface

## Console

Sometimes R outputs may encompass several lines. In that case, each line will begin with the brackets [] indicating the position of the first object in the output. e.g.:

```{r longer vector, tidy=TRUE}
100:150
```

>The colon operator (:) returns every integer between two integers*. It is an easy way to create a sequence of numbers.

.footnote[[*] [Whole-valued positive or negative number or 0](https://www.britannica.com/science/integer).]
--

---
class: inverse, left, top

#R User Interface

## Console

Nothing is perfect, so there are also some situations where you tap Enter before finishing the code:

>5+ <br>
`+` 

R shows you then the **+** in the next line of the console indicating that you may finnish the command.<br> 
```{r Incomplete code}
5+
+
1
```
---
#R User Interface

## Console

In other situations you may find real Errors:

```{r Error code, eval=FALSE}
> 3 % 5
Error: unexpected input in "3 % 5"
>
```
---
#R User Interface

## Console

# The sky is the limit!!.pull-right[<img src="https://media4.giphy.com/media/12R2bKfxceemNq/giphy.webp?cid=ecf05e47mg84pbdjuaq9xl1ky5vesmynvaqvs1fubqbpcv6v&rid=giphy.webp", align="right">]

With all the things we learned until now, let's practice:

+ Choose any number and add 2 to it.
+ Multiply the result by 3.
+ Subtract 6 from the answer.
+ Divide what you get by 3.

> 10 minutes exercise.

---

class: inverse, center, middle

#Break! 15 minutes `r emo::ji("00")`&nbsp;`r emo::ji("coffee")`


---

# Solution

If you did all correctly you may have in the final step the value you chose to start with.

```{r solution}
5+2
7*3
21-6
15/3
```

---
#R User Interface

##Console 

In addition, the **Console** title bar has a few useful features:

- It displays the current R working directory (more on this later)

- It provides the ability to interrupt R during a long computation (a stop sign will appear whilst code is running)

- It allows you to minimise and maximise the Console in relation to the Source pane using the buttons at the top-right or by double-clicking the title bar)

---

#R User Interface

##Environment and history panes

The Environment pane is very useful as it shows you what objects **(i.e., dataframes, arrays, values and functions)* ** you have in your environment (workspace). You can see the values for objects with a single value and for those that are longer R will tell you their class.

Typing the following into the Console will list everything you’ve loaded into the Environment:

```{r environment}
ls() 
```

Conclusion: There are no objects in the Environment.


.footnote[[*] We will get to this later, don't worry.]

---
# R User Interface

##  Files, Plots, Packages, Help, and Viewer panes

- *Files*: Allows you to navigate in the folders just like using the operational system.  
+ *Plots*: This is where the graphics will appear.
- *Packages*: hows you the packages that are installed and those that can be installed.
+ *Help*: Allows you to search the R documentation for help and is where the help appears when you ask for it from the *Console*.
 >Try typing `?mean` or `help(mean)` in the console.

---
# R User Interface

##  Source Editor

Generally we will want to write codes that are longer than a couple of lines. We want this (yes, ***you want it too!***) because we believe we will repeat the same steps many many times (**routinely**) that would be boring to write it all over again always when we need it .

These files are commonly called scripts and they work like a recipe of a cake. We need to include all the ingredients in the right order in order to get a [tastemade](https://www.tastemade.com.br/)-like cake.

You may create a new *R script* using `File > New File > R script`.

Note scripts files are simply standard text files and can be created in any text editor and saved with a .R (or .r) extension, but the Source editor in RStudio has the advantage of providing syntax highlighting, code completion, and smart indentation.
---
# R scripts
By using R scripts you may be interested in storing the results of e.g., equations, transformations or functions to be used later on. This can be easily done by assigning values to *objects*

```{r objects}
result <- 5+6 
```

By running the line above you will not get any results in the console. However, there is an simple way to show it. Simply type the name of the object you assigned and click CTRL + Enter.

```{r resultant object}
result
```

> The symbol `<-`shows the direction to which the objects are assigned. It can be substituted by `=`but we avoid it for good coding* practices.

.footnote[[*] See [Hadley Wickham Style Guide](http://adv-r.had.co.nz/Style.html) for more details on writing practices.]

---

# Objects

R lets you save data by storing it inside an R object. What is an object? Just a name that you can use to call up stored data. For example, you can save data into an object like a or b. Wherever R encounters the object, it will replace it with the data saved inside.

```{r sum object}
result + 2
```

You can name an object in R almost anything you want, but there are a few rules. First, a name cannot start with a number. Second, a name cannot use some special symbols, like `^`, `!`, `$`, `@`, `+`, `- `, `/`, or `*`.

> Note that R is case sensitive so writing names e.g., `Results` and `results` will create two different objects.


---

#Functions

R comes with many functions that you can use to do sophisticated tasks like taking a log or the square root of a number. Some functions involve more than one commands, for example, you can round a number with the `round` function, or calculate its factorial with the `factorial` function.

```{r functions}
round(2.6)
factorial(3) # 3*2*1 (3!)


```

> R treats the hashtag character, #, in a special way; R will not run anything that follows a hashtag on a line


---

#R Packages

R comes with a number of built-in functions and datasets, but one of the main strengths of R as an open-source project is its package system. That allows many professors, programmers, and statisticians to design and release tools using R to help people analyze data.

To install a package, use the install.packages() function. Think of this as
buying a recipe book from the store, bringing it home, and putting it on your
shelf.

```{r install packages, eval=FALSE}

install.packages("tidyverse") #To install

library("tidyverse") # To load

```

Packages must be installed only once per computer prior using, while loading a package should be done once per R session. 

---

#Practice

What about exploring the R universe a little bit before we go deeper into data analysis?

Go to the **Environment ans History pane** click on the `Tutorial` tab and go through the Tutorials (Except for "Tutorial Quiz" and "Slidly demo").

Make notes on your doubts and let's check together tomorrow.

---
#Resources in portuguese

##[Estatística aplicada ao R](https://1drv.ms/b/s!AqfDu8POzxNrthdJuDmUE4h6znmR?e=pesqTq)
##[Introdução ao R](https://1drv.ms/b/s!AqfDu8POzxNrthZB7G3OJwH5hFrE?e=FIgod1)
##[Principios de Estatistica em Ecologia](https://1drv.ms/b/s!AqfDu8POzxNr505WNuRTP378WBrf?e=pVnRJm)
---
class: inverse, center, middle

#<img src="https://media3.giphy.com/media/l4pTjOu0NsrLApt0Q/200.webp?cid=ecf05e47x8rghx27ay8y9cyxqe0scgcxtfkj967zwedqobwo&rid=200.webp", width="200%">

